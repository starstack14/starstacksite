(function(){const t=document.documentElement,e=document.getElementById("themeToggle"),n=document.getElementById("navToggle"),o=document.getElementById("navMenu"),a=document.getElementById("year");a&&(a.textContent=String(new Date().getFullYear()));const r=localStorage.getItem("theme");r&&("dark"===r||"light"===r)?(t.setAttribute("data-theme",r),e&&e.setAttribute("aria-pressed",String("dark"===r))):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(t.setAttribute("data-theme","dark"),e&&e.setAttribute("aria-pressed","true"));e&&e.addEventListener("click",()=>{const n="dark"===t.getAttribute("data-theme")?"light":"dark";t.setAttribute("data-theme",n),localStorage.setItem("theme",n),e.setAttribute("aria-pressed",String("dark"===n))});n&&o&&(n.addEventListener("click",()=>{const t=o.classList.toggle("open");n.setAttribute("aria-expanded",String(t))}),o.addEventListener("click",t=>{const e=t.target;e&&e.matches("a")&&(o.classList.remove("open"),n.setAttribute("aria-expanded","false"))}));const i={ru:{"meta.title":"StarStack — Небольшой сайт","meta.404_title":"Страница не найдена — StarStack","common.brand":"StarStack","header.nav.home":"Главная","header.nav.about":"О сайте","header.nav.projects":"Проекты","header.nav.contact":"Контакты","hero.title":"Привет! Это StarStack","hero.subtitle":"Минимальный сайт, который легко разместить на GitHub Pages.","hero.cta":"Смотреть проекты","about.title":"О сайте","about.body":"Тут будут располагаться небольшие проекты, которые я делаю от скуки и не использую в коммерческих целях.","projects.title":"Проекты","projects.items.1.title":"Проект 2","projects.items.1.desc":"Короткое описание проекта.","projects.items.1.more":"Подробнее →","projects.mlf.desc":"Лаунчер для Factorio. Описание подгружается из GitHub.","projects.mlf.latest":"Последний релиз:","projects.mlf.no_release":"Релизов нет","projects.actions.github":"Открыть на GitHub →","projects.actions.download":"Скачать последний релиз →","contact.title":"Контакты","contact.body":"Чтобы связаться, используйте форму обращения в репозитории. Email не публикуется.","contact.cta":"Открыть форму обращения →","footer.made":"Сделано с любовью.","notfound.title":"Такой страницы нет","notfound.body":"Возможно, ссылка устарела или была удалена.","notfound.back":"Вернуться на главную"},en:{"meta.title":"StarStack — Minimal site","meta.404_title":"Page not found — StarStack","common.brand":"StarStack","header.nav.home":"Home","header.nav.about":"About","header.nav.projects":"Projects","header.nav.contact":"Contact","hero.title":"Hi! This is StarStack","hero.subtitle":"A minimal site that is easy to host on GitHub Pages.","hero.cta":"View projects","about.title":"About","about.body":"This section hosts small projects I build for fun and do not use for commercial purposes.","projects.title":"Projects","projects.items.1.title":"Project 2","projects.items.1.desc":"Short project description.","projects.items.1.more":"Learn more →","projects.mlf.desc":"Launcher for Factorio. Description is loaded from GitHub.","projects.mlf.latest":"Latest release:","projects.mlf.no_release":"No releases","projects.actions.github":"Open on GitHub →","projects.actions.download":"Download latest →","contact.title":"Contact","contact.body":"Use the repository issue form to get in touch. Email is not published.","contact.cta":"Open contact form →","footer.made":"Made with love.","notfound.title":"This page does not exist","notfound.body":"The link may be outdated or has been removed.","notfound.back":"Back to home"}};let s="en";function c(t){const e=document.getElementById("langRu"),n=document.getElementById("langEn");e&&n&&(e.setAttribute("aria-pressed",String("ru"===t)),n.setAttribute("aria-pressed",String("en"===t)))}function l(t){return i[s]&&i[s][t]||i.en[t]||t}function d(t){s=["ru","en"].includes(t)?t:"en";const e=i[s];document.querySelectorAll("[data-i18n]").forEach(t=>{const n=t.getAttribute("data-i18n"),o=e[n];"string"==typeof o&&(t.textContent=o)}),document.documentElement.lang=s;const n=document.getElementById("contactLink");if(n){const t="https://github.com/starstack14/starstacksite/issues/new?labels=contact&title=";n.href="en"===s?t+encodeURIComponent("Contact")+"&body="+encodeURIComponent("Describe your question and a contact for reply."):t+encodeURIComponent("Обращение")+"&body="+encodeURIComponent("Опишите ваш вопрос и контакт для обратной связи.")}c(s)}!function(){const t=localStorage.getItem("lang");let e=t||"en";["ru","en"].includes(e)||(e="en"),d(e);const n=document.getElementById("langRu"),o=document.getElementById("langEn");n&&n.addEventListener("click",()=>{localStorage.setItem("lang","ru"),d("ru")}),o&&o.addEventListener("click",()=>{localStorage.setItem("lang","en"),d("en")})}(),async function(){const t=document.getElementById("mlfTitle"),e=document.getElementById("mlfDesc"),n=document.getElementById("mlfStars"),o=document.getElementById("mlfRelease"),a=document.getElementById("mlfDownload");if(!t&&!e&&!n&&!o&&!a)return;const r="starstack14/Multi-LauncherFactorio";try{const i=await fetch(`https://api.github.com/repos/${r}`);if(i.ok){const o=await i.json();e&&o.description&&(e.textContent=o.description),n&&"number"==typeof o.stargazers_count&&(n.textContent=`★ ${o.stargazers_count}`),t&&o.html_url&&(t.href=o.html_url)}}catch{}try{const t=await fetch(`https://api.github.com/repos/${r}/releases/latest`);if(t.ok){const e=await t.json();o&&(o.textContent=`${l("projects.mlf.latest")} ${e.tag_name||e.name||""}`.trim()),a&&e.html_url&&(a.href=e.html_url)}else o&&(o.textContent=l("projects.mlf.no_release"))}catch{o&&(o.textContent=l("projects.mlf.no_release"))}}()})()